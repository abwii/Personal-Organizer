{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class HabitsService {\n  http;\n  apiUrl = 'http://localhost:3000/api/habits';\n  constructor(http) {\n    this.http = http;\n  }\n  getHabits(userId, filters) {\n    let url = `${this.apiUrl}?user_id=${userId}`;\n    if (filters?.status) url += `&status=${filters.status}`;\n    if (filters?.frequency) url += `&frequency=${filters.frequency}`;\n    return this.http.get(url);\n  }\n  getHabitById(id, userId) {\n    return this.http.get(`${this.apiUrl}/${id}?user_id=${userId}`);\n  }\n  createHabit(habit) {\n    return this.http.post(this.apiUrl, habit);\n  }\n  updateHabit(id, habit) {\n    return this.http.put(`${this.apiUrl}/${id}`, habit);\n  }\n  deleteHabit(id, userId) {\n    return this.http.delete(`${this.apiUrl}/${id}?user_id=${userId}`);\n  }\n  logHabit(id, userId, date) {\n    const body = {\n      user_id: userId\n    };\n    if (date) body.date = date;\n    return this.http.post(`${this.apiUrl}/${id}/log`, body);\n  }\n  static ɵfac = function HabitsService_Factory(t) {\n    return new (t || HabitsService)(i0.ɵɵinject(i1.HttpClient));\n  };\n  static ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: HabitsService,\n    factory: HabitsService.ɵfac,\n    providedIn: 'root'\n  });\n}","map":{"version":3,"names":["HabitsService","http","apiUrl","constructor","getHabits","userId","filters","url","status","frequency","get","getHabitById","id","createHabit","habit","post","updateHabit","put","deleteHabit","delete","logHabit","date","body","user_id","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["/app/src/app/services/habits.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\nexport interface Habit {\n  _id?: string;\n  user_id: string;\n  title: string;\n  description?: string;\n  frequency: 'daily' | 'weekly';\n  category?: string;\n  status: 'active' | 'archived';\n  current_streak?: number;\n  best_streak?: number;\n  weekly_completion_rate?: number;\n  createdAt?: string;\n  updatedAt?: string;\n}\n\nexport interface HabitLog {\n  _id?: string;\n  habit_id: string;\n  date: string | Date;\n  is_completed: boolean;\n  createdAt?: string;\n}\n\nexport interface HabitsResponse {\n  success: boolean;\n  count?: number;\n  data: Habit[];\n}\n\nexport interface HabitResponse {\n  success: boolean;\n  data: Habit | (HabitLog & { current_streak?: number; best_streak?: number; weekly_completion_rate?: number });\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class HabitsService {\n  private apiUrl = 'http://localhost:3000/api/habits';\n\n  constructor(private http: HttpClient) {}\n\n  getHabits(userId: string, filters?: { status?: string; frequency?: string }): Observable<HabitsResponse> {\n    let url = `${this.apiUrl}?user_id=${userId}`;\n    if (filters?.status) url += `&status=${filters.status}`;\n    if (filters?.frequency) url += `&frequency=${filters.frequency}`;\n    return this.http.get<HabitsResponse>(url);\n  }\n\n  getHabitById(id: string, userId: string): Observable<HabitResponse> {\n    return this.http.get<HabitResponse>(`${this.apiUrl}/${id}?user_id=${userId}`);\n  }\n\n  createHabit(habit: Habit): Observable<HabitResponse> {\n    return this.http.post<HabitResponse>(this.apiUrl, habit);\n  }\n\n  updateHabit(id: string, habit: Partial<Habit>): Observable<HabitResponse> {\n    return this.http.put<HabitResponse>(`${this.apiUrl}/${id}`, habit);\n  }\n\n  deleteHabit(id: string, userId: string): Observable<{ success: boolean; message: string }> {\n    return this.http.delete<{ success: boolean; message: string }>(`${this.apiUrl}/${id}?user_id=${userId}`);\n  }\n\n  logHabit(id: string, userId: string, date?: string): Observable<HabitResponse> {\n    const body: any = { user_id: userId };\n    if (date) body.date = date;\n    return this.http.post<HabitResponse>(`${this.apiUrl}/${id}/log`, body);\n  }\n}\n"],"mappings":";;AAyCA,OAAM,MAAOA,aAAa;EAGJC,IAAA;EAFZC,MAAM,GAAG,kCAAkC;EAEnDC,YAAoBF,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;EAAe;EAEvCG,SAASA,CAACC,MAAc,EAAEC,OAAiD;IACzE,IAAIC,GAAG,GAAG,GAAG,IAAI,CAACL,MAAM,YAAYG,MAAM,EAAE;IAC5C,IAAIC,OAAO,EAAEE,MAAM,EAAED,GAAG,IAAI,WAAWD,OAAO,CAACE,MAAM,EAAE;IACvD,IAAIF,OAAO,EAAEG,SAAS,EAAEF,GAAG,IAAI,cAAcD,OAAO,CAACG,SAAS,EAAE;IAChE,OAAO,IAAI,CAACR,IAAI,CAACS,GAAG,CAAiBH,GAAG,CAAC;EAC3C;EAEAI,YAAYA,CAACC,EAAU,EAAEP,MAAc;IACrC,OAAO,IAAI,CAACJ,IAAI,CAACS,GAAG,CAAgB,GAAG,IAAI,CAACR,MAAM,IAAIU,EAAE,YAAYP,MAAM,EAAE,CAAC;EAC/E;EAEAQ,WAAWA,CAACC,KAAY;IACtB,OAAO,IAAI,CAACb,IAAI,CAACc,IAAI,CAAgB,IAAI,CAACb,MAAM,EAAEY,KAAK,CAAC;EAC1D;EAEAE,WAAWA,CAACJ,EAAU,EAAEE,KAAqB;IAC3C,OAAO,IAAI,CAACb,IAAI,CAACgB,GAAG,CAAgB,GAAG,IAAI,CAACf,MAAM,IAAIU,EAAE,EAAE,EAAEE,KAAK,CAAC;EACpE;EAEAI,WAAWA,CAACN,EAAU,EAAEP,MAAc;IACpC,OAAO,IAAI,CAACJ,IAAI,CAACkB,MAAM,CAAwC,GAAG,IAAI,CAACjB,MAAM,IAAIU,EAAE,YAAYP,MAAM,EAAE,CAAC;EAC1G;EAEAe,QAAQA,CAACR,EAAU,EAAEP,MAAc,EAAEgB,IAAa;IAChD,MAAMC,IAAI,GAAQ;MAAEC,OAAO,EAAElB;IAAM,CAAE;IACrC,IAAIgB,IAAI,EAAEC,IAAI,CAACD,IAAI,GAAGA,IAAI;IAC1B,OAAO,IAAI,CAACpB,IAAI,CAACc,IAAI,CAAgB,GAAG,IAAI,CAACb,MAAM,IAAIU,EAAE,MAAM,EAAEU,IAAI,CAAC;EACxE;;qBAhCWtB,aAAa,EAAAwB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;EAAA;;WAAb3B,aAAa;IAAA4B,OAAA,EAAb5B,aAAa,CAAA6B,IAAA;IAAAC,UAAA,EAFZ;EAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/habits.service\";\nimport * as i2 from \"../../services/auth.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction HabitFormComponent_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.error, \" \");\n  }\n}\nexport class HabitFormComponent {\n  habitsService;\n  authService;\n  habit = null;\n  saved = new EventEmitter();\n  cancelled = new EventEmitter();\n  formData = {\n    title: '',\n    description: '',\n    frequency: 'daily',\n    category: '',\n    status: 'active'\n  };\n  error = null;\n  loading = false;\n  constructor(habitsService, authService) {\n    this.habitsService = habitsService;\n    this.authService = authService;\n  }\n  ngOnInit() {\n    if (this.habit) {\n      // Edit mode\n      this.formData = {\n        title: this.habit.title,\n        description: this.habit.description || '',\n        frequency: this.habit.frequency,\n        category: this.habit.category || '',\n        status: this.habit.status\n      };\n    }\n  }\n  onSubmit() {\n    if (!this.formData.title) {\n      this.error = 'Title is required';\n      return;\n    }\n    this.loading = true;\n    this.error = null;\n    const habitData = {\n      user_id: this.authService.getCurrentUserId(),\n      title: this.formData.title,\n      description: this.formData.description,\n      frequency: this.formData.frequency || 'daily',\n      category: this.formData.category,\n      status: this.formData.status || 'active'\n    };\n    const operation = this.habit ? this.habitsService.updateHabit(this.habit._id, habitData) : this.habitsService.createHabit(habitData);\n    operation.subscribe({\n      next: () => {\n        this.loading = false;\n        this.saved.emit();\n      },\n      error: err => {\n        this.loading = false;\n        this.error = err.error?.error || 'Failed to save habit';\n        console.error('Error saving habit:', err);\n      }\n    });\n  }\n  onCancel() {\n    this.cancelled.emit();\n  }\n  static ɵfac = function HabitFormComponent_Factory(t) {\n    return new (t || HabitFormComponent)(i0.ɵɵdirectiveInject(i1.HabitsService), i0.ɵɵdirectiveInject(i2.AuthService));\n  };\n  static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HabitFormComponent,\n    selectors: [[\"app-habit-form\"]],\n    inputs: {\n      habit: \"habit\"\n    },\n    outputs: {\n      saved: \"saved\",\n      cancelled: \"cancelled\"\n    },\n    decls: 39,\n    vars: 10,\n    consts: [[1, \"habit-form\"], [3, \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"title\"], [\"type\", \"text\", \"id\", \"title\", \"name\", \"title\", \"required\", \"\", \"maxlength\", \"200\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"description\"], [\"id\", \"description\", \"name\", \"description\", \"rows\", \"3\", \"maxlength\", \"1000\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-row\"], [\"for\", \"frequency\"], [\"id\", \"frequency\", \"name\", \"frequency\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"daily\"], [\"value\", \"weekly\"], [\"for\", \"status\"], [\"id\", \"status\", \"name\", \"status\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"active\"], [\"value\", \"archived\"], [\"for\", \"category\"], [\"type\", \"text\", \"id\", \"category\", \"name\", \"category\", \"maxlength\", \"50\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"class\", \"error-message\", 4, \"ngIf\"], [1, \"form-actions\"], [\"type\", \"button\", 1, \"btn-secondary\", 3, \"disabled\", \"click\"], [\"type\", \"submit\", 1, \"btn-primary\", 3, \"disabled\"], [1, \"error-message\"]],\n    template: function HabitFormComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n        i0.ɵɵtext(2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"form\", 1);\n        i0.ɵɵlistener(\"ngSubmit\", function HabitFormComponent_Template_form_ngSubmit_3_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(4, \"div\", 2)(5, \"label\", 3);\n        i0.ɵɵtext(6, \"Title *\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"input\", 4);\n        i0.ɵɵlistener(\"ngModelChange\", function HabitFormComponent_Template_input_ngModelChange_7_listener($event) {\n          return ctx.formData.title = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"div\", 2)(9, \"label\", 5);\n        i0.ɵɵtext(10, \"Description\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"textarea\", 6);\n        i0.ɵɵlistener(\"ngModelChange\", function HabitFormComponent_Template_textarea_ngModelChange_11_listener($event) {\n          return ctx.formData.description = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"div\", 7)(13, \"div\", 2)(14, \"label\", 8);\n        i0.ɵɵtext(15, \"Frequency\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"select\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function HabitFormComponent_Template_select_ngModelChange_16_listener($event) {\n          return ctx.formData.frequency = $event;\n        });\n        i0.ɵɵelementStart(17, \"option\", 10);\n        i0.ɵɵtext(18, \"Daily\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"option\", 11);\n        i0.ɵɵtext(20, \"Weekly\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(21, \"div\", 2)(22, \"label\", 12);\n        i0.ɵɵtext(23, \"Status\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"select\", 13);\n        i0.ɵɵlistener(\"ngModelChange\", function HabitFormComponent_Template_select_ngModelChange_24_listener($event) {\n          return ctx.formData.status = $event;\n        });\n        i0.ɵɵelementStart(25, \"option\", 14);\n        i0.ɵɵtext(26, \"Active\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"option\", 15);\n        i0.ɵɵtext(28, \"Archived\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(29, \"div\", 2)(30, \"label\", 16);\n        i0.ɵɵtext(31, \"Category\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"input\", 17);\n        i0.ɵɵlistener(\"ngModelChange\", function HabitFormComponent_Template_input_ngModelChange_32_listener($event) {\n          return ctx.formData.category = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(33, HabitFormComponent_div_33_Template, 2, 1, \"div\", 18);\n        i0.ɵɵelementStart(34, \"div\", 19)(35, \"button\", 20);\n        i0.ɵɵlistener(\"click\", function HabitFormComponent_Template_button_click_35_listener() {\n          return ctx.onCancel();\n        });\n        i0.ɵɵtext(36, \" Cancel \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"button\", 21);\n        i0.ɵɵtext(38);\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.habit ? \"Edit Habit\" : \"Create New Habit\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.formData.title);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.formData.description);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.formData.frequency);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngModel\", ctx.formData.status);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngModel\", ctx.formData.category);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.error);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", ctx.loading);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", ctx.loading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", ctx.loading ? \"Saving...\" : ctx.habit ? \"Update\" : \"Create\", \" \");\n      }\n    },\n    dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.MaxLengthValidator, i4.NgModel, i4.NgForm],\n    styles: [\".habit-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  margin-top: 0;\\n  margin-bottom: 2rem;\\n  color: var(--gray-900);\\n  font-size: 2rem;\\n  font-weight: 700;\\n  letter-spacing: -0.02em;\\n}\\n\\n.form-group[_ngcontent-%COMP%] {\\n  margin-bottom: 1.5rem;\\n}\\n\\n.form-row[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: 1fr 1fr;\\n  gap: 1.25rem;\\n}\\n\\nlabel[_ngcontent-%COMP%] {\\n  display: block;\\n  margin-bottom: 0.5rem;\\n  color: var(--gray-700);\\n  font-weight: 600;\\n  font-size: 0.95rem;\\n}\\n\\n.form-control[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 0.875rem 1rem;\\n  border: 2px solid var(--gray-200);\\n  border-radius: var(--radius-lg);\\n  font-size: 1rem;\\n  font-family: inherit;\\n  background: var(--bg-primary);\\n  color: var(--gray-900);\\n  transition: all var(--transition);\\n}\\n\\n.form-control[_ngcontent-%COMP%]:hover {\\n  border-color: var(--gray-300);\\n}\\n\\n.form-control[_ngcontent-%COMP%]:focus {\\n  outline: none;\\n  border-color: var(--primary);\\n  box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);\\n  background: var(--bg-primary);\\n}\\n\\n.form-control[_ngcontent-%COMP%]::placeholder {\\n  color: var(--gray-400);\\n}\\n\\ntextarea.form-control[_ngcontent-%COMP%] {\\n  resize: vertical;\\n  min-height: 100px;\\n  line-height: 1.6;\\n}\\n\\nselect.form-control[_ngcontent-%COMP%] {\\n  cursor: pointer;\\n  appearance: none;\\n  background-image: url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%236b7280' d='M6 9L1 4h10z'/%3E%3C/svg%3E\\\");\\n  background-repeat: no-repeat;\\n  background-position: right 0.75rem center;\\n  padding-right: 2.5rem;\\n}\\n\\n.error-message[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, rgba(239, 68, 68, 0.05) 100%);\\n  color: var(--error);\\n  padding: 1rem;\\n  border-radius: var(--radius-lg);\\n  margin-bottom: 1.5rem;\\n  border: 1px solid rgba(239, 68, 68, 0.2);\\n  font-weight: 500;\\n}\\n\\n.form-actions[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: flex-end;\\n  gap: 0.75rem;\\n  margin-top: 2rem;\\n  padding-top: 1.5rem;\\n  border-top: 1px solid var(--gray-200);\\n}\\n\\n.btn-primary[_ngcontent-%COMP%]:disabled, .btn-secondary[_ngcontent-%COMP%]:disabled {\\n  opacity: 0.6;\\n  cursor: not-allowed;\\n  transform: none !important;\\n}\\n\\n@media (max-width: 768px) {\\n  .form-row[_ngcontent-%COMP%] {\\n    grid-template-columns: 1fr;\\n    gap: 1rem;\\n  }\\n\\n  .form-actions[_ngcontent-%COMP%] {\\n    flex-direction: column-reverse;\\n  }\\n\\n  .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n    width: 100%;\\n  }\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9oYWJpdHMvaGFiaXQtZm9ybS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixzQkFBc0I7RUFDdEIsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQix1QkFBdUI7QUFDekI7O0FBRUE7RUFDRSxxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsOEJBQThCO0VBQzlCLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGNBQWM7RUFDZCxxQkFBcUI7RUFDckIsc0JBQXNCO0VBQ3RCLGdCQUFnQjtFQUNoQixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsc0JBQXNCO0VBQ3RCLGlDQUFpQztFQUNqQywrQkFBK0I7RUFDL0IsZUFBZTtFQUNmLG9CQUFvQjtFQUNwQiw2QkFBNkI7RUFDN0Isc0JBQXNCO0VBQ3RCLGlDQUFpQztBQUNuQzs7QUFFQTtFQUNFLDZCQUE2QjtBQUMvQjs7QUFFQTtFQUNFLGFBQWE7RUFDYiw0QkFBNEI7RUFDNUIsNkNBQTZDO0VBQzdDLDZCQUE2QjtBQUMvQjs7QUFFQTtFQUNFLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixpQkFBaUI7RUFDakIsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQiwwTEFBMEw7RUFDMUwsNEJBQTRCO0VBQzVCLHlDQUF5QztFQUN6QyxxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSw0RkFBNEY7RUFDNUYsbUJBQW1CO0VBQ25CLGFBQWE7RUFDYiwrQkFBK0I7RUFDL0IscUJBQXFCO0VBQ3JCLHdDQUF3QztFQUN4QyxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IseUJBQXlCO0VBQ3pCLFlBQVk7RUFDWixnQkFBZ0I7RUFDaEIsbUJBQW1CO0VBQ25CLHFDQUFxQztBQUN2Qzs7QUFFQTs7RUFFRSxZQUFZO0VBQ1osbUJBQW1CO0VBQ25CLDBCQUEwQjtBQUM1Qjs7QUFFQTtFQUNFO0lBQ0UsMEJBQTBCO0lBQzFCLFNBQVM7RUFDWDs7RUFFQTtJQUNFLDhCQUE4QjtFQUNoQzs7RUFFQTtJQUNFLFdBQVc7RUFDYjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLmhhYml0LWZvcm0gaDIge1xuICBtYXJnaW4tdG9wOiAwO1xuICBtYXJnaW4tYm90dG9tOiAycmVtO1xuICBjb2xvcjogdmFyKC0tZ3JheS05MDApO1xuICBmb250LXNpemU6IDJyZW07XG4gIGZvbnQtd2VpZ2h0OiA3MDA7XG4gIGxldHRlci1zcGFjaW5nOiAtMC4wMmVtO1xufVxuXG4uZm9ybS1ncm91cCB7XG4gIG1hcmdpbi1ib3R0b206IDEuNXJlbTtcbn1cblxuLmZvcm0tcm93IHtcbiAgZGlzcGxheTogZ3JpZDtcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyO1xuICBnYXA6IDEuMjVyZW07XG59XG5cbmxhYmVsIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi1ib3R0b206IDAuNXJlbTtcbiAgY29sb3I6IHZhcigtLWdyYXktNzAwKTtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgZm9udC1zaXplOiAwLjk1cmVtO1xufVxuXG4uZm9ybS1jb250cm9sIHtcbiAgd2lkdGg6IDEwMCU7XG4gIHBhZGRpbmc6IDAuODc1cmVtIDFyZW07XG4gIGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLWdyYXktMjAwKTtcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tcmFkaXVzLWxnKTtcbiAgZm9udC1zaXplOiAxcmVtO1xuICBmb250LWZhbWlseTogaW5oZXJpdDtcbiAgYmFja2dyb3VuZDogdmFyKC0tYmctcHJpbWFyeSk7XG4gIGNvbG9yOiB2YXIoLS1ncmF5LTkwMCk7XG4gIHRyYW5zaXRpb246IGFsbCB2YXIoLS10cmFuc2l0aW9uKTtcbn1cblxuLmZvcm0tY29udHJvbDpob3ZlciB7XG4gIGJvcmRlci1jb2xvcjogdmFyKC0tZ3JheS0zMDApO1xufVxuXG4uZm9ybS1jb250cm9sOmZvY3VzIHtcbiAgb3V0bGluZTogbm9uZTtcbiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1wcmltYXJ5KTtcbiAgYm94LXNoYWRvdzogMCAwIDAgM3B4IHJnYmEoOTksIDEwMiwgMjQxLCAwLjEpO1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1wcmltYXJ5KTtcbn1cblxuLmZvcm0tY29udHJvbDo6cGxhY2Vob2xkZXIge1xuICBjb2xvcjogdmFyKC0tZ3JheS00MDApO1xufVxuXG50ZXh0YXJlYS5mb3JtLWNvbnRyb2wge1xuICByZXNpemU6IHZlcnRpY2FsO1xuICBtaW4taGVpZ2h0OiAxMDBweDtcbiAgbGluZS1oZWlnaHQ6IDEuNjtcbn1cblxuc2VsZWN0LmZvcm0tY29udHJvbCB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgYXBwZWFyYW5jZTogbm9uZTtcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMicgaGVpZ2h0PScxMicgdmlld0JveD0nMCAwIDEyIDEyJyUzRSUzQ3BhdGggZmlsbD0nJTIzNmI3MjgwJyBkPSdNNiA5TDEgNGgxMHonLyUzRSUzQy9zdmclM0VcIik7XG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IHJpZ2h0IDAuNzVyZW0gY2VudGVyO1xuICBwYWRkaW5nLXJpZ2h0OiAyLjVyZW07XG59XG5cbi5lcnJvci1tZXNzYWdlIHtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgcmdiYSgyMzksIDY4LCA2OCwgMC4xKSAwJSwgcmdiYSgyMzksIDY4LCA2OCwgMC4wNSkgMTAwJSk7XG4gIGNvbG9yOiB2YXIoLS1lcnJvcik7XG4gIHBhZGRpbmc6IDFyZW07XG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLXJhZGl1cy1sZyk7XG4gIG1hcmdpbi1ib3R0b206IDEuNXJlbTtcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyMzksIDY4LCA2OCwgMC4yKTtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn1cblxuLmZvcm0tYWN0aW9ucyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gIGdhcDogMC43NXJlbTtcbiAgbWFyZ2luLXRvcDogMnJlbTtcbiAgcGFkZGluZy10b3A6IDEuNXJlbTtcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHZhcigtLWdyYXktMjAwKTtcbn1cblxuLmJ0bi1wcmltYXJ5OmRpc2FibGVkLFxuLmJ0bi1zZWNvbmRhcnk6ZGlzYWJsZWQge1xuICBvcGFjaXR5OiAwLjY7XG4gIGN1cnNvcjogbm90LWFsbG93ZWQ7XG4gIHRyYW5zZm9ybTogbm9uZSAhaW1wb3J0YW50O1xufVxuXG5AbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgLmZvcm0tcm93IHtcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjtcbiAgICBnYXA6IDFyZW07XG4gIH1cblxuICAuZm9ybS1hY3Rpb25zIHtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uLXJldmVyc2U7XG4gIH1cblxuICAuZm9ybS1hY3Rpb25zIGJ1dHRvbiB7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["EventEmitter","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r0","error","HabitFormComponent","habitsService","authService","habit","saved","cancelled","formData","title","description","frequency","category","status","loading","constructor","ngOnInit","onSubmit","habitData","user_id","getCurrentUserId","operation","updateHabit","_id","createHabit","subscribe","next","emit","err","console","onCancel","ɵɵdirectiveInject","i1","HabitsService","i2","AuthService","selectors","inputs","outputs","decls","vars","consts","template","HabitFormComponent_Template","rf","ctx","ɵɵlistener","HabitFormComponent_Template_form_ngSubmit_3_listener","HabitFormComponent_Template_input_ngModelChange_7_listener","$event","HabitFormComponent_Template_textarea_ngModelChange_11_listener","HabitFormComponent_Template_select_ngModelChange_16_listener","HabitFormComponent_Template_select_ngModelChange_24_listener","HabitFormComponent_Template_input_ngModelChange_32_listener","ɵɵtemplate","HabitFormComponent_div_33_Template","HabitFormComponent_Template_button_click_35_listener","ɵɵtextInterpolate","ɵɵproperty"],"sources":["/app/src/app/components/habits/habit-form.component.ts","/app/src/app/components/habits/habit-form.component.html"],"sourcesContent":["import { Component, Input, Output, EventEmitter, OnInit } from '@angular/core';\nimport { HabitsService, Habit } from '../../services/habits.service';\nimport { AuthService } from '../../services/auth.service';\n\n@Component({\n  selector: 'app-habit-form',\n  templateUrl: './habit-form.component.html',\n  styleUrls: ['./habit-form.component.css']\n})\nexport class HabitFormComponent implements OnInit {\n  @Input() habit: Habit | null = null;\n  @Output() saved = new EventEmitter<void>();\n  @Output() cancelled = new EventEmitter<void>();\n\n  formData: Partial<Habit> = {\n    title: '',\n    description: '',\n    frequency: 'daily',\n    category: '',\n    status: 'active'\n  };\n\n  error: string | null = null;\n  loading = false;\n\n  constructor(\n    private habitsService: HabitsService,\n    private authService: AuthService\n  ) {}\n\n  ngOnInit() {\n    if (this.habit) {\n      // Edit mode\n      this.formData = {\n        title: this.habit.title,\n        description: this.habit.description || '',\n        frequency: this.habit.frequency,\n        category: this.habit.category || '',\n        status: this.habit.status\n      };\n    }\n  }\n\n  onSubmit() {\n    if (!this.formData.title) {\n      this.error = 'Title is required';\n      return;\n    }\n\n    this.loading = true;\n    this.error = null;\n\n    const habitData: Habit = {\n      user_id: this.authService.getCurrentUserId(),\n      title: this.formData.title!,\n      description: this.formData.description,\n      frequency: this.formData.frequency || 'daily',\n      category: this.formData.category,\n      status: this.formData.status || 'active'\n    };\n\n    const operation = this.habit\n      ? this.habitsService.updateHabit(this.habit._id!, habitData)\n      : this.habitsService.createHabit(habitData);\n\n    operation.subscribe({\n      next: () => {\n        this.loading = false;\n        this.saved.emit();\n      },\n      error: (err) => {\n        this.loading = false;\n        this.error = err.error?.error || 'Failed to save habit';\n        console.error('Error saving habit:', err);\n      }\n    });\n  }\n\n  onCancel() {\n    this.cancelled.emit();\n  }\n}\n","<div class=\"habit-form\">\n  <h2>{{ habit ? 'Edit Habit' : 'Create New Habit' }}</h2>\n\n  <form (ngSubmit)=\"onSubmit()\">\n    <div class=\"form-group\">\n      <label for=\"title\">Title *</label>\n      <input\n        type=\"text\"\n        id=\"title\"\n        [(ngModel)]=\"formData.title\"\n        name=\"title\"\n        required\n        maxlength=\"200\"\n        class=\"form-control\">\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"description\">Description</label>\n      <textarea\n        id=\"description\"\n        [(ngModel)]=\"formData.description\"\n        name=\"description\"\n        rows=\"3\"\n        maxlength=\"1000\"\n        class=\"form-control\"></textarea>\n    </div>\n\n    <div class=\"form-row\">\n      <div class=\"form-group\">\n        <label for=\"frequency\">Frequency</label>\n        <select\n          id=\"frequency\"\n          [(ngModel)]=\"formData.frequency\"\n          name=\"frequency\"\n          class=\"form-control\">\n          <option value=\"daily\">Daily</option>\n          <option value=\"weekly\">Weekly</option>\n        </select>\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"status\">Status</label>\n        <select\n          id=\"status\"\n          [(ngModel)]=\"formData.status\"\n          name=\"status\"\n          class=\"form-control\">\n          <option value=\"active\">Active</option>\n          <option value=\"archived\">Archived</option>\n        </select>\n      </div>\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"category\">Category</label>\n      <input\n        type=\"text\"\n        id=\"category\"\n        [(ngModel)]=\"formData.category\"\n        name=\"category\"\n        maxlength=\"50\"\n        class=\"form-control\">\n    </div>\n\n    <div *ngIf=\"error\" class=\"error-message\">\n      {{ error }}\n    </div>\n\n    <div class=\"form-actions\">\n      <button type=\"button\" class=\"btn-secondary\" (click)=\"onCancel()\" [disabled]=\"loading\">\n        Cancel\n      </button>\n      <button type=\"submit\" class=\"btn-primary\" [disabled]=\"loading\">\n        {{ loading ? 'Saving...' : (habit ? 'Update' : 'Create') }}\n      </button>\n    </div>\n  </form>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}